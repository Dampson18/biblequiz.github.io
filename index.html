<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bible Quiz: Book of Revelation</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* General Body Styles */
        body {
            font-family: 'Open Sans', sans-serif; /* A clean, modern sans-serif font */
            background: linear-gradient(135deg, #a8dadc 0%, #457b9d 100%); /* Softer, calming gradient */
            color: #2c3e50; /* Dark blue-gray for text */
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh; /* Ensure it takes full viewport height */
            margin: 0;
            box-sizing: border-box; /* Include padding in element's total width and height */
        }

        /* Header */
        h1 {
            font-family: 'Merriweather', serif; /* A classic serif for the title */
            font-size: 2.5em;
            color: #1d3557; /* Darker blue for emphasis */
            margin-bottom: 25px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* Scripture Reference Section */
        .scripture {
            font-size: 1.2em; /* Slightly smaller for references */
            font-weight: 600; /* Bolder than regular text */
            margin-bottom: 30px;
            text-align: center;
            width: 90%;
            max-width: 700px; /* Increased max-width for references */
            background: rgba(255, 255, 255, 0.2); /* Semi-transparent background */
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            color: #1d3557;
            line-height: 1.6;
        }

        /* Main Quiz Container */
        .quiz-container {
            background: #ffffff; /* Clean white background for the main card */
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15); /* Stronger, softer shadow */
            padding: 30px;
            width: 90%;
            max-width: 650px; /* Slightly wider quiz container */
            text-align: center;
            transition: all 0.3s ease-in-out; /* Smooth transitions for potential future animations */
        }

        /* Question Number Display */
        #questionNumber {
            font-size: 1em;
            color: #457b9d;
            margin-bottom: 10px;
            font-weight: 600;
        }

        /* Question Text */
        .question {
            font-family: 'Merriweather', serif;
            font-size: 1.6em; /* Larger question font */
            margin-bottom: 25px;
            color: #1d3557;
            line-height: 1.5;
        }

        /* Options List */
        .options {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        /* Individual Option Item */
        .options li {
            background: #f1faee; /* Light, calming background for options */
            border: 1px solid #a8dadc; /* Subtle border matching background */
            margin: 12px 0; /* More vertical spacing */
            padding: 15px 20px; /* More padding for larger clickable area */
            border-radius: 8px; /* Rounded corners for options */
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease; /* Smooth hover effects */
            font-size: 1.1em;
            color: #457b9d; /* Text color for options */
            text-align: left; /* Align option text to the left */
        }

        .options li:hover {
            background: #e0f2f7; /* Lighter background on hover */
            transform: translateY(-3px); /* Subtle lift effect */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* Correct Option Styling */
        .options li.correct {
            background: #28a745; /* Standard green for correct */
            color: white;
            border-color: #218838;
            font-weight: 600;
            box-shadow: 0 2px 5px rgba(40, 167, 69, 0.5); /* Green shadow */
            transform: none; /* No lift for selected correct */
            pointer-events: none; /* Disable clicks after selection */
        }

        /* Wrong Option Styling */
        .options li.wrong {
            background: #dc3545; /* Standard red for wrong */
            color: white;
            border-color: #c82333;
            font-weight: 600;
            box-shadow: 0 2px 5px rgba(220, 53, 69, 0.5); /* Red shadow */
            transform: none; /* No lift for selected wrong */
            pointer-events: none; /* Disable clicks after selection */
        }

        /* Button Styling */
        button {
            padding: 12px 25px; /* More padding for larger buttons */
            border: none;
            background: #1d3557; /* Dark blue button */
            color: white;
            border-radius: 8px; /* Rounded corners for buttons */
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            font-size: 1.1em;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Button shadow */
            margin-top: 20px; /* Space above button */
        }

        button:hover {
            background: #457b9d; /* Lighter blue on hover */
            transform: translateY(-2px); /* Slight lift */
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(0); /* Press effect */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        /* Score Display */
        .score {
            margin: 25px 0; /* More margin around score */
            font-size: 1.5em; /* Larger score font */
            font-weight: 700; /* Bold score */
            color: #1d3557;
        }

        /* Hidden Class */
        .hidden {
            display: none;
        }

        /* Footer */
        footer {
            margin-top: 30px; /* More space from quiz */
            font-size: 0.9em;
            color: #457b9d; /* Muted color for footer text */
            text-align: center;
        }

        /* Responsive Adjustments */
        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }
            .scripture {
                font-size: 1em;
                padding: 10px;
            }
            .quiz-container {
                padding: 20px;
            }
            #questionNumber {
                font-size: 0.9em;
            }
            .question {
                font-size: 1.3em;
            }
            .options li {
                font-size: 1em;
                padding: 12px 15px;
            }
            button {
                padding: 10px 20px;
                font-size: 1em;
            }
            .score {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <h1>Bible Quiz: Book of Revelation</h1>
    <div class="scripture">
        Revelation 21:1-7, Revelation 21:10, Revelation 21:22, Revelation 21:27
    </div>
    <div class="quiz-container">
        <div id="questionNumber" class="hidden"></div> <div class="question" id="question">Click "Start Quiz" to begin!</div>
        <ul class="options" id="options"></ul>
        <button id="nextButton" class="hidden">Next Question</button>
        <div class="score hidden" id="scoreContainer">Your score: <span id="score">0</span></div>
        <button id="startButton">Start Quiz</button>
    </div>
    <footer>
        &copy; 2024 Kelvin Dampson. Quiz by YPG Oyibi.
    </footer>

    <script>
        const originalQuestions = [ // Renamed to originalQuestions
            { question: "In Revelation 21:1, what does John see?", options: ["A new heaven and a new earth", "A new city", "A new heaven and a new earth", "A new kingdom"], answer: "A new heaven and a new earth" },
            { question: "The Holy City mentioned in Revelation 21:2 is called:", options: ["New Zion", "The New Jerusalem", "The City of God", "The Holy Mountain"], answer: "The New Jerusalem" },
            { question: "In Revelation 21:3, who is said to dwell among the people?", options: ["The angels", "God", "The prophets", "The saints"], answer: "God" },
            { question: "According to Revelation 21:4, what will God wipe away from their eyes?", options: ["Dust", "Shadows", "Tears", "Pain"], answer: "Tears" },
            { question: "In Revelation 21:5, who declares, 'I am making everything new'?", options: ["An elder", "He who was seated on the throne", "An angel", "John"], answer: "He who was seated on the throne" },
            { question: "In Revelation 21:6, what does God promise to the thirsty?", options: ["Food", "Water without cost", "Wine", "Shelter"], answer: "Water without cost" },
            { question: "According to Revelation 21:7, who will inherit all things?", options: ["The faithful", "Those who are victorious", "The righteous", "The learned"], answer: "Those who are victorious" },
            { question: "In Revelation 21:10, where is John taken to see the Holy City?", options: ["A valley", "A river", "A mountain", "A plain"], answer: "A mountain" },
            { question: "Revelation 21:22 states that there is no temple in the city because:", options: ["It is too far", "God and the Lamb are its temple", "The city has no need", "The city is empty"], answer: "God and the Lamb are its temple" },
            { question: "Who is allowed to enter the New Jerusalem, according to Revelation 21:27?", options: ["All people", "Only those whose names are written in the Lamb’s book of life", "The righteous", "The wealthy"], answer: "Only those whose names are written in the Lamb’s book of life" },
            { question: "In Revelation 21:1, the phrase 'new heaven and new earth' signifies:", options: ["Complete renewal", "The end of time", "A fresh start", "A new beginning"], answer: "Complete renewal" },
            { question: "In Revelation 21:2, the New Jerusalem is described as coming down from heaven like:", options: ["A fortress", "A bride", "A garden", "A castle"], answer: "A bride" },
            { question: "What will no longer exist according to Revelation 21:4?", options: ["Joy", "Death", "Conflict", "Knowledge"], answer: "Death" },
            { question: "The metaphor 'water of life' in Revelation 21:6 represents:", options: ["Physical sustenance", "Spiritual fulfillment", "Abundant wealth", "Eternal joy"], answer: "Spiritual fulfillment" },
            { question: "The 'victorious' in Revelation 21:7 refers to:", options: ["The strongest believers", "Those who overcome", "The wealthiest", "The most knowledgeable"], answer: "Those who overcome" },
            { question: "John is shown the Holy City by:", options: ["An elder", "The Spirit", "An angel", "A prophet"], answer: "The Spirit" },
            { question: "In Revelation 21:21, the streets of the New Jerusalem are made of:", options: ["Silver", "Pure gold", "Stone", "Clay"], answer: "Pure gold" },
            { question: "The absence of a temple signifies:", options: ["God’s direct presence", "The city has no worship", "The city is unholy", "The city is empty"], answer: "God’s direct presence" },
            { question: "Revelation 21:27 emphasizes that:", options: ["Everyone can enter the city", "Nothing impure will enter", "Only the righteous will be saved", "Wealth will determine entry"], answer: "Nothing impure will enter" },
            { question: "The New Jerusalem is characterized by:", options: ["Great wealth", "No pain or suffering", "Large crowds", "High walls"], answer: "No pain or suffering" },
            { question: "In Revelation 21:6, the 'water of life' is described as:", options: ["Costly", "Limited", "Free", "Bitter"], answer: "Free" },
            { question: "The glory of the New Jerusalem reflects:", options: ["Human achievement", "God’s glory", "Historical significance", "Natural beauty"], answer: "God’s glory" },
            { question: "In Revelation 21:5, God promises to make:", options: ["Everything rich", "Everything new", "Everything perfect", "Everything bright"], answer: "Everything new" },
            { question: "The phrase 'those who are victorious' emphasizes:", options: ["The strongest", "The wealthiest", "Faithfulness in overcoming trials", "Popularity"], answer: "Faithfulness in overcoming trials" },
            { question: "Revelation 21:3 tells us that God will:", options: ["Judge the nations", "Send angels", "Dwell with His people", "Provide riches"], answer: "Dwell with His people" },
            { question: "The New Jerusalem symbolizes:", options: ["A place of peace and safety", "A historical city", "A place of conflict", "A political entity"], answer: "A place of peace and safety" },
            { question: "The gates of the New Jerusalem are made of:", options: ["Silver", "Pearls", "Gold", "Stone"], answer: "Pearls" },
            { question: "In Revelation 21:4, God will:", options: ["Give strength", "Provide riches", "Wipe every tear", "Open the heavens"], answer: "Wipe every tear" },
            { question: "The description of the New Jerusalem emphasizes:", options: ["Its size", "Its defenses", "Its beauty and perfection", "Its history"], answer: "Its beauty and perfection" },
            { question: "The ultimate message of Revelation 21 is about:", options: ["Judgment", "Hope and renewal", "Conflict", "Fear"], answer: "Hope and renewal" },
            { question: "What is the primary source of light in the New Jerusalem according to Revelation 21:23?", options: ["The sun", "The moon", "The glory of God", "Stars"], answer: "The glory of God" },
            { question: "Revelation 21:5 indicates that God is in the process of:", options: ["Making all things new", "Leaving things as they are", "Destroying the earth", "Ignoring human suffering"], answer: "Making all things new" },
            { question: "The New Jerusalem serves as a reminder of:", options: ["The end of all things", "God’s ultimate plan for redemption", "A historical city", "A place of conflict"], answer: "God’s ultimate plan for redemption" },
            { question: "The vision of the New Jerusalem encourages believers to:", options: ["Fear judgment", "Focus on worldly matters", "Anticipate God’s kingdom", "Ignore the future"], answer: "Anticipate God’s kingdom" },
            { question: "In Revelation 21:27, it is stated that only those who are:", options: ["Pure", "Wealthy", "Knowledgeable", "Powerful"], answer: "Pure" },
            { question: "The absence of tears in the New Jerusalem represents:", options: ["A loss of emotion", "Complete healing", "A new beginning", "A change in focus"], answer: "Complete healing" },
            { question: "The relationship between God and His people is described as:", options: ["Intimate and direct", "Distant", "Conditional", "Based on works"], answer: "Intimate and direct" },
            { question: "The ultimate hope presented in Revelation 21 is:", options: ["Eternal life", "Riches", "Power", "Knowledge"], answer: "Eternal life" },
            { question: "Revelation 21 emphasizes that God will:", options: ["Make all things new", "Leave things as they are", "Destroy the earth", "Ignore human suffering"], answer: "Make all things new" },
            { question: "The description of the New Jerusalem highlights:", options: ["God’s faithfulness", "Human achievement", "Historical significance", "Military power"], answer: "God’s faithfulness" },
            { question: "What does Revelation 21:4 say will not be present in the New Jerusalem?", options: ["Joy", "Death", "Conflict", "Wealth"], answer: "Death" },
            { question: "Revelation 21:6 describes the 'water of life' as:", options: ["Free", "Costly", "Limited", "Bitter"], answer: "Free" },
            { question: "The ultimate promise of Revelation 21 is:", options: ["Wealth", "Eternal life", "Knowledge", "Popularity"], answer: "Eternal life" },
            { question: "The vision of the New Jerusalem ultimately reflects:", options: ["God’s love and restoration", "A historical event", "A political statement", "A military conquest"], answer: "God’s love and restoration" },
            { question: "The gates of the New Jerusalem are described as being:", options: ["Made of pearls", "Made of gold", "Made of silver", "Made of bronze"], answer: "Made of pearls" },
            { question: "According to Revelation 21:3, what does God’s presence among people signify?", options: ["Judgment", "Intimacy", "Fear", "Distance"], answer: "Intimacy" },
            { question: "In Revelation 21:22, the lack of a temple symbolizes:", options: ["The city has no worship", "God’s direct presence", "The city is unholy", "The city is empty"], answer: "God’s direct presence" },
            { question: "The New Jerusalem is depicted as a place where:", options: ["There is conflict", "There are wars", "There is peace", "There is suffering"], answer: "There is peace" },
            { question: "Revelation 21 encourages believers to hold on to:", options: ["Hope", "Fear", "Worry", "Despair"], answer: "Hope" },
            { question: "The vision of the New Jerusalem ultimately represents:", options: ["God’s ultimate plan for humanity", "A historical city", "A place of conflict", "A military stronghold"], answer: "God’s ultimate plan for humanity" },
        ];

        let questions = []; // This will hold the shuffled questions for the current quiz
        let currentQuestionIndex = 0;
        let score = 0;
        let answeredThisQuestion = false; // Flag to prevent multiple answers per question

        const questionNumberElement = document.getElementById('questionNumber'); // Get new element
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const scoreElement = document.getElementById('score');
        const nextButton = document.getElementById('nextButton');
        const startButton = document.getElementById('startButton');
        const scoreContainer = document.getElementById('scoreContainer');

        startButton.addEventListener('click', startQuiz);
        nextButton.addEventListener('click', nextQuestion);

        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }

        function startQuiz() {
            questions = shuffleArray([...originalQuestions]); // Shuffle a copy of the original questions
            score = 0;
            currentQuestionIndex = 0;
            answeredThisQuestion = false;

            scoreContainer.classList.add('hidden');
            nextButton.classList.add('hidden');
            startButton.classList.add('hidden');
            questionNumberElement.classList.remove('hidden'); // Show question number
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex < questions.length) {
                const currentQuestion = questions[currentQuestionIndex];
                questionNumberElement.textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`; // Update question number
                questionElement.textContent = currentQuestion.question;
                optionsElement.innerHTML = '';
                
                // Shuffle options for the current question
                const shuffledOptions = shuffleArray([...currentQuestion.options]);

                shuffledOptions.forEach(option => {
                    const li = document.createElement('li');
                    li.textContent = option;
                    li.addEventListener('click', () => selectOption(li, option));
                    optionsElement.appendChild(li);
                });
                answeredThisQuestion = false; // Reset for new question
            } else {
                // Quiz finished
                showFinalScore();
            }
        }

        function selectOption(selectedLi, selectedOption) {
            if (answeredThisQuestion) {
                return; // Prevent multiple clicks on options for the same question
            }
            answeredThisQuestion = true; // Mark question as answered

            const currentQuestion = questions[currentQuestionIndex];
            const allOptions = optionsElement.querySelectorAll('li');

            // Disable all options after selection
            allOptions.forEach(li => li.style.pointerEvents = 'none');

            if (selectedOption === currentQuestion.answer) {
                selectedLi.classList.add('correct');
                score++; // Increment score only for correct answers
            } else {
                selectedLi.classList.add('wrong');
                // Find and highlight the correct option
                const correctOption = [...allOptions].find(li => li.textContent === currentQuestion.answer);
                if (correctOption) {
                    correctOption.classList.add('correct');
                }
            }

            nextButton.classList.remove('hidden');
            // No need to call showScore here, it's only for the final display
        }

        function nextQuestion() {
            currentQuestionIndex++;
            nextButton.classList.add('hidden'); // Hide next button until next answer
            loadQuestion();
        }

        function showFinalScore() {
            questionNumberElement.classList.add('hidden'); // Hide question number
            scoreContainer.classList.remove('hidden');
            questionElement.textContent = `Quiz Finished! Your final score is: ${score} out of ${questions.length}`;
            scoreElement.textContent = score; // Ensure the score span updates
            optionsElement.innerHTML = '';
            nextButton.classList.add('hidden');
            startButton.textContent = "Restart Quiz";
            startButton.classList.remove('hidden');
        }
    </script>
</body>
</html>
